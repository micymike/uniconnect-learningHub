# Environment Variables Template for UniConnect Learning Hub

# ==================== DATABASE ====================
# Supabase Configuration
SUPABASE_URL=your_supabase_project_url
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# ==================== AI SERVICES ====================
# Azure OpenAI Configuration (Required for all AI features)
AZURE_API_BASE=https://your-resource-name.openai.azure.com/openai/deployments/your-deployment-name/chat/completions?api-version=2023-05-15
AZURE_API_KEY=your_azure_openai_api_key

# Azure Computer Vision (Required for image analysis in multimodal support)
AZURE_COMPUTER_VISION_ENDPOINT=https://your-resource-name.cognitiveservices.azure.com/
AZURE_COMPUTER_VISION_KEY=your_computer_vision_api_key

# Google Cloud Services (Required for speech services in multimodal support)
# Download service account JSON file and set path here
GOOGLE_APPLICATION_CREDENTIALS=path/to/your/service-account-key.json
# Alternative: Set credentials directly (not recommended for production)
GOOGLE_CLOUD_PROJECT_ID=your_google_cloud_project_id
GOOGLE_CLOUD_PRIVATE_KEY=your_private_key
GOOGLE_CLOUD_CLIENT_EMAIL=your_service_account_email

# ==================== AUTHENTICATION ====================
# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here_make_it_long_and_random
JWT_EXPIRES_IN=7d

# ==================== GOOGLE OAUTH ====================
# Google OAuth credentials for Supabase social login
GOOGLE_OAUTH_CLIENT_ID=your_google_oauth_client_id
GOOGLE_OAUTH_CLIENT_SECRET=your_google_oauth_client_secret

# ==================== APPLICATION ====================
# Server Configuration
PORT=3000
NODE_ENV=development

# CORS Configuration
CORS_ORIGIN=http://localhost:3001,http://localhost:3000

# ==================== OPTIONAL SERVICES ====================
# Email Service (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# NewsAPI (Optional - for real-time news, free tier: 1000 requests/month)
# Get free API key from https://newsapi.org/
NEWS_API_KEY=your_newsapi_key_optional

# File Upload Configuration
MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_DEST=./uploads

# ==================== FEATURE FLAGS ====================
# Enable/Disable specific AI features
ENABLE_MULTIMODAL_SUPPORT=true
ENABLE_SPEECH_SERVICES=true
ENABLE_COMPUTER_VISION=true
ENABLE_EXPENSE_TRACKING=true
ENABLE_GRADE_PREDICTION=true
ENABLE_RESEARCH_ASSISTANT=true

# ==================== RATE LIMITING ====================
# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100  # requests per window

# AI Service Rate Limiting
AI_RATE_LIMIT_WINDOW_MS=60000  # 1 minute
AI_RATE_LIMIT_MAX_REQUESTS=20   # AI requests per minute

# ==================== LOGGING ====================
# Log Level (error, warn, info, debug)
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log

# ==================== CACHE ====================
# Redis Configuration (optional, for caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password

# Cache TTL in seconds
CACHE_TTL=3600  # 1 hour

# ==================== MONITORING ====================
# Application Monitoring
SENTRY_DSN=your_sentry_dsn_for_error_tracking

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000  # 5 seconds

# ==================== DEVELOPMENT ====================
# Development-only settings
DEBUG_MODE=false
MOCK_AI_RESPONSES=false  # Set to true to use mock responses instead of real AI calls
ENABLE_API_DOCS=true     # Enable Swagger documentation

# ==================== SECURITY ====================
# Security Headers
HELMET_ENABLED=true
CSRF_PROTECTION=true

# API Key for internal services (if needed)
INTERNAL_API_KEY=your_internal_api_key

# ==================== BACKUP ====================
# Database Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM (cron format)
BACKUP_RETENTION_DAYS=30

# ==================== NOTES ====================
# 1. Copy this file to .env and fill in your actual values
# 2. Never commit .env file to version control
# 3. For production, use environment-specific values
# 4. Some services are optional - disable features if you don't have the keys
# 5. Google Cloud credentials can be set via file path or environment variables
# 6. Azure services require active subscriptions
# 7. Rate limiting helps prevent API quota exhaustion
# 8. Enable MOCK_AI_RESPONSES for development without API costs

# ==================== SERVICE SETUP GUIDES ====================
# 
# Azure OpenAI Setup:
# 1. Create Azure OpenAI resource in Azure Portal
# 2. Deploy a model (e.g., gpt-35-turbo or gpt-4)
# 3. Get endpoint and API key from Azure Portal
# 4. Format endpoint as shown in AZURE_API_BASE above
#
# Azure Computer Vision Setup:
# 1. Create Computer Vision resource in Azure Portal
# 2. Get endpoint and key from resource overview
# 3. Ensure the resource supports the required features
#
# Google Cloud Speech Services Setup:
# 1. Create Google Cloud project
# 2. Enable Speech-to-Text and Text-to-Speech APIs
# 3. Create service account and download JSON key file
# 4. Set GOOGLE_APPLICATION_CREDENTIALS to file path
#
# Supabase Setup:
# 1. Create project at supabase.com
# 2. Get URL and keys from project settings
# 3. Run the database migrations for AI context table
